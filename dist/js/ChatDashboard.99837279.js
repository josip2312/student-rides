(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ChatDashboard"],{"8ab5":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dashboard"}},[a("h2",{staticClass:"heading-2"},[e._v("Tvoje poruke")]),e.chats.length>0?a("div",{staticClass:"chats"},e._l(e.chats,(function(t,c){return a("div",{key:t._id,staticClass:"chat",class:{unread:e.messageIsRead(c)},on:{click:function(t){return e.openChat(c)}}},[a("div",{staticClass:"name"},[e._v(" "+e._s(e.receiverName(c))+" ")]),e.messageIsRead(c)?a("div",{staticClass:"unread-message"},[e._v(" Novo ")]):e._e(),t.messages.length>0?a("div",{staticClass:"last-message"},[a("span",[e._v(" "+e._s(e.messageSenderName(c))+": ")]),a("span",[e._v(" "+e._s(e.lastMessage(c))+" ")])]):e._e(),a("button",{staticClass:"delete-chat",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.deleteChat(t._id)}}},[a("img",{attrs:{src:s("7698"),alt:""}})])])})),0):a("div",{staticClass:"no-chats"},[a("img",{attrs:{src:s("4759"),alt:""}}),a("p",[e._v(" Nemate poruka! ")])])])},c=[],n=(s("99af"),s("fb6a"),s("b0c0"),s("5530")),i=s("2f62"),r={name:"ChatDashboard",metaInfo:function(){return{meta:[{name:"description",content:"Å alji poruke ostalim korisnicima"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["getUserData","getChats"])),{},{chats:function(){return this.getChats}}),methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])(["fetchChats","deleteChat","openChat"])),{},{messageIsRead:function(e){if(this.chats[e].messages.length>0)return!this.chats[e].messages[this.chats[e].messages.length-1].receiverHasRead&&this.chats[e].messages[this.chats[e].messages.length-1].sender!==this.getUserData._id},messageSenderName:function(e){return this.chats[e].messages[this.chats[e].messages.length-1].from},receiverName:function(e){return this.chats[e].senderFullName==="".concat(this.getUserData.name," ").concat(this.getUserData.lastname)?"".concat(this.chats[e].receiverFullName):"".concat(this.chats[e].senderFullName)},lastMessage:function(e){return this.chats[e].messages[this.chats[e].messages.length-1].content.length>30?this.chats[e].messages[this.chats[e].messages.length-1].content.slice(1,30)+"...":this.chats[e].messages[this.chats[e].messages.length-1].content}}),created:function(){this.fetchChats()}},h=r,o=(s("93ca"),s("2877")),l=Object(o["a"])(h,a,c,!1,null,"ad873ea6",null);t["default"]=l.exports},"93ca":function(e,t,s){"use strict";var a=s("a087"),c=s.n(a);c.a},a087:function(e,t,s){},fb6a:function(e,t,s){"use strict";var a=s("23e7"),c=s("861d"),n=s("e8b5"),i=s("23cb"),r=s("50c4"),h=s("fc6a"),o=s("8418"),l=s("b622"),u=s("1dde"),d=s("ae40"),g=u("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),f=l("species"),v=[].slice,p=Math.max;a({target:"Array",proto:!0,forced:!g||!m},{slice:function(e,t){var s,a,l,u=h(this),d=r(u.length),g=i(e,d),m=i(void 0===t?d:t,d);if(n(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?c(s)&&(s=s[f],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return v.call(u,g,m);for(a=new(void 0===s?Array:s)(p(m-g,0)),l=0;g<m;g++,l++)g in u&&o(a,l,u[g]);return a.length=l,a}})}}]);
//# sourceMappingURL=ChatDashboard.99837279.js.map