{"version":3,"sources":["webpack:///./src/views/chat/ChatDashboard.vue?7cd7","webpack:///src/views/chat/ChatDashboard.vue","webpack:///./src/views/chat/ChatDashboard.vue?f20b","webpack:///./src/views/chat/ChatDashboard.vue?916d","webpack:///./src/views/chat/ChatDashboard.vue?a314","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","chats","length","_l","chat","index","key","_id","class","unread","messageIsRead","on","$event","openChat","_s","receiverName","_e","messages","messageSenderName","lastMessage","preventDefault","stopPropagation","deleteChat","staticRenderFns","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","slice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"wHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,KAAK,CAACG,YAAY,aAAa,CAACP,EAAIQ,GAAG,kBAAmBR,EAAIS,MAAMC,OAAS,EAAGN,EAAG,MAAM,CAACG,YAAY,SAASP,EAAIW,GAAIX,EAAS,OAAE,SAASY,EAAKC,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAIF,EAAKG,IAAIR,YAAY,OAAOS,MAAM,CAAEC,OAAQjB,EAAIkB,cAAcL,IAASM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,SAASR,MAAU,CAACT,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACP,EAAIQ,GAAG,IAAIR,EAAIsB,GAAGtB,EAAIuB,aAAaV,IAAQ,OAAQb,EAAIkB,cAAcL,GAAQT,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACP,EAAIQ,GAAG,YAAYR,EAAIwB,KAAMZ,EAAKa,SAASf,OAAS,EAAGN,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,OAAO,CAACJ,EAAIQ,GAAG,IAAIR,EAAIsB,GAAGtB,EAAI0B,kBAAkBb,IAAQ,QAAQT,EAAG,OAAO,CAACJ,EAAIQ,GAAG,IAAIR,EAAIsB,GAAGtB,EAAI2B,YAAYd,IAAQ,SAASb,EAAIwB,KAAKpB,EAAG,SAAS,CAACG,YAAY,cAAcY,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOQ,iBAAiBR,EAAOS,kBAAyB7B,EAAI8B,WAAWlB,EAAKG,QAAQ,CAACX,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,EAAQ,QAAqC,IAAM,aAAY,GAAGF,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,EAAQ,QAAmC,IAAM,MAAMF,EAAG,IAAI,CAACJ,EAAIQ,GAAG,2BAClqCuB,EAAkB,G,wDC2CtB,GACA,qBACA,SAFA,WAGA,OACA,MACA,CACA,mBACA,+CAKA,0CACA,4CADA,IAGA,MAHA,WAIA,wBAGA,yCACA,wDADA,IAGA,cAHA,SAGA,GACA,mCACA,OACA,uBACA,iCACA,iBACA,uBACA,iCACA,+BAKA,kBAhBA,SAgBA,GACA,8BACA,iCACA,MAGA,aAtBA,SAsBA,GACA,OACA,yCACA,sBADA,YACA,2BAEA,0CAEA,yCAEA,YA/BA,SA+BA,GACA,OACA,uBACA,iCACA,kBAGA,uBACA,iCACA,0BAGA,uBACA,iCACA,WAGA,QAnEA,WAoEA,oBChHsW,I,wBCQlWC,EAAY,eACd,EACAjC,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,yBAA+jB,EAAG,G,yDCClkB,IAAIC,EAAI,EAAQ,QACZC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAC1BC,EAAW,EAAQ,QACnBC,EAAkB,EAAQ,QAC1BC,EAAiB,EAAQ,QACzBC,EAAkB,EAAQ,QAC1BC,EAA+B,EAAQ,QACvCC,EAA0B,EAAQ,QAElCC,EAAsBF,EAA6B,SACnDG,EAAiBF,EAAwB,QAAS,CAAEG,WAAW,EAAMC,EAAG,EAAGC,EAAG,IAE9EC,EAAUR,EAAgB,WAC1BS,EAAc,GAAGC,MACjBC,EAAMC,KAAKD,IAKflB,EAAE,CAAEoB,OAAQ,QAASC,OAAO,EAAMC,QAASZ,IAAwBC,GAAkB,CACnFM,MAAO,SAAeM,EAAOC,GAC3B,IAKIC,EAAaC,EAAQC,EALrBC,EAAIvB,EAAgBrC,MACpBS,EAAS2B,EAASwB,EAAEnD,QACpBoD,EAAI1B,EAAgBoB,EAAO9C,GAC3BqD,EAAM3B,OAAwB4B,IAARP,EAAoB/C,EAAS+C,EAAK/C,GAG5D,GAAIyB,EAAQ0B,KACVH,EAAcG,EAAEI,YAEU,mBAAfP,GAA8BA,IAAgBQ,QAAS/B,EAAQuB,EAAYS,WAE3EjC,EAASwB,KAClBA,EAAcA,EAAYV,GACN,OAAhBU,IAAsBA,OAAcM,IAHxCN,OAAcM,EAKZN,IAAgBQ,YAAyBF,IAAhBN,GAC3B,OAAOT,EAAYmB,KAAKP,EAAGC,EAAGC,GAIlC,IADAJ,EAAS,SAAqBK,IAAhBN,EAA4BQ,MAAQR,GAAaP,EAAIY,EAAMD,EAAG,IACvEF,EAAI,EAAGE,EAAIC,EAAKD,IAAKF,IAASE,KAAKD,GAAGtB,EAAeoB,EAAQC,EAAGC,EAAEC,IAEvE,OADAH,EAAOjD,OAASkD,EACTD","file":"js/ChatDashboard.41f8d3fe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dashboard\"}},[_c('h2',{staticClass:\"heading-2\"},[_vm._v(\"Tvoje poruke\")]),(_vm.chats.length > 0)?_c('div',{staticClass:\"chats\"},_vm._l((_vm.chats),function(chat,index){return _c('div',{key:chat._id,staticClass:\"chat\",class:{ unread: _vm.messageIsRead(index) },on:{\"click\":function($event){return _vm.openChat(index)}}},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.receiverName(index))+\" \")]),(_vm.messageIsRead(index))?_c('div',{staticClass:\"unread-message\"},[_vm._v(\" Novo \")]):_vm._e(),(chat.messages.length > 0)?_c('div',{staticClass:\"last-message\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.messageSenderName(index))+\": \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.lastMessage(index))+\" \")])]):_vm._e(),_c('button',{staticClass:\"delete-chat\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.deleteChat(chat._id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icons/trashblack.svg\"),\"alt\":\"\"}})])])}),0):_c('div',{staticClass:\"no-chats\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icons/notfound.svg\"),\"alt\":\"\"}}),_c('p',[_vm._v(\" Nemate poruka! \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div id=\"dashboard\">\n\t\t<h2 class=\"heading-2\">Tvoje poruke</h2>\n\t\t<div class=\"chats\" v-if=\"chats.length > 0\">\n\t\t\t<div\n\t\t\t\tclass=\"chat\"\n\t\t\t\tv-for=\"(chat, index) in chats\"\n\t\t\t\t:key=\"chat._id\"\n\t\t\t\t@click=\"openChat(index)\"\n\t\t\t\t:class=\"{ unread: messageIsRead(index) }\"\n\t\t\t>\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t{{ receiverName(index) }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"unread-message\" v-if=\"messageIsRead(index)\">\n\t\t\t\t\tNovo\n\t\t\t\t</div>\n\t\t\t\t<div class=\"last-message\" v-if=\"chat.messages.length > 0\">\n\t\t\t\t\t<span> {{ messageSenderName(index) }}: </span>\n\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ lastMessage(index) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"delete-chat\"\n\t\t\t\t\t@click.prevent.stop=\"deleteChat(chat._id)\"\n\t\t\t\t>\n\t\t\t\t\t<img src=\"@/assets/img/icons/trashblack.svg\" alt=\"\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"no-chats\" v-else>\n\t\t\t<img src=\"@/assets/img/icons/notfound.svg\" alt=\"\" />\n\n\t\t\t<p>\n\t\t\t\tNemate poruka!\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n\tname: \"ChatDashboard\",\n\tmetaInfo() {\n\t\treturn {\n\t\t\tmeta: [\n\t\t\t\t{\n\t\t\t\t\tname: \"description\",\n\t\t\t\t\tcontent: `Å alji poruke ostalim korisnicima`\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters([\"getUserData\", \"getChats\"]),\n\n\t\tchats() {\n\t\t\treturn this.getChats;\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapActions([\"fetchChats\", \"deleteChat\", \"openChat\"]),\n\n\t\tmessageIsRead(chatIndex) {\n\t\t\tif (this.chats[chatIndex].messages.length > 0) {\n\t\t\t\treturn (\n\t\t\t\t\t!this.chats[chatIndex].messages[\n\t\t\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t\t\t].receiverHasRead &&\n\t\t\t\t\tthis.chats[chatIndex].messages[\n\t\t\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t\t\t].sender !== this.getUserData._id\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tmessageSenderName(chatIndex) {\n\t\t\treturn this.chats[chatIndex].messages[\n\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t].from;\n\t\t},\n\n\t\treceiverName(chatIndex) {\n\t\t\tif (\n\t\t\t\tthis.chats[chatIndex].senderFullName ===\n\t\t\t\t`${this.getUserData.name} ${this.getUserData.lastname}`\n\t\t\t) {\n\t\t\t\treturn `${this.chats[chatIndex].receiverFullName}`;\n\t\t\t}\n\t\t\treturn `${this.chats[chatIndex].senderFullName}`;\n\t\t},\n\t\tlastMessage(chatIndex) {\n\t\t\tif (\n\t\t\t\tthis.chats[chatIndex].messages[\n\t\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t\t].content.length > 30\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\tthis.chats[chatIndex].messages[\n\t\t\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t\t\t].content.slice(1, 30) + \"...\"\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this.chats[chatIndex].messages[\n\t\t\t\tthis.chats[chatIndex].messages.length - 1\n\t\t\t].content;\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.fetchChats();\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#dashboard {\n\tcolor: $font-black;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\twidth: 85%;\n\tmax-width: 80rem;\n\tpadding: 5em 0;\n\tmargin: 0 auto;\n\n\t@include fillPage;\n}\n.heading-2 {\n\tpadding: 3rem 0;\n\tpadding-bottom: 2.5rem;\n\tjustify-self: flex-start;\n\tborder-bottom: 1px solid $tertiary;\n\twidth: 85%;\n\tmax-width: 60rem;\n\ttext-align: center;\n}\n.chats {\n\tpadding-top: 2.5rem;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-direction: column;\n\n\twidth: 90%;\n\theight: 100%;\n\tmax-width: 60rem;\n\n\t.chat {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tcolor: $font-black;\n\n\t\tmargin-left: -2rem;\n\t\tpadding: 2.5rem 1.5rem;\n\n\t\tfont-size: 2rem;\n\t\tborder-radius: 3px;\n\t\ttransition: background-color 0.2s ease-in-out;\n\t\tcursor: pointer;\n\t\tbackground-color: $tertiary-light;\n\n\t\t.unread-message {\n\t\t\tbackground-color: $warning;\n\t\t\tborder-radius: 5rem;\n\t\t\tpadding: 0.5rem 1rem;\n\t\t\tcolor: $white;\n\t\t\tfont-size: 1.5rem;\n\t\t\tmargin: 0 1.5rem;\n\t\t\tmargin-right: auto;\n\t\t}\n\t\t.last-message {\n\t\t\tfont-size: 1.5rem;\n\t\t\tmargin-left: 1.5rem;\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tmargin-bottom: 1.5rem;\n\t\t}\n\n\t\t.delete-chat {\n\t\t\tcursor: pointer;\n\t\t\tposition: absolute;\n\t\t\tright: -4rem;\n\t\t\ttop: 50%;\n\t\t\ttransform: scale(0.85) translateY(-50%);\n\n\t\t\timg {\n\t\t\t\twidth: 3.5rem;\n\t\t\t\theight: 3.5rem;\n\t\t\t}\n\n\t\t\ttransition: transform 0.2s ease-in-out;\n\t\t}\n\t\t.delete-chat:hover {\n\t\t\ttransform: scale(1) translateY(-50%);\n\t\t}\n\t}\n\n\t.chat:hover {\n\t\tbackground-color: $grey-light;\n\t}\n}\n.no-chats {\n\tpadding-top: 2.5rem;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\twidth: 90%;\n\theight: 100%;\n\tmax-width: 60rem;\n\n\tfont-size: 2rem;\n\tcolor: $font-p;\n\n\timg {\n\t\twidth: 10rem;\n\t\theight: 10rem;\n\t}\n\tp {\n\t\tmargin-top: 1rem;\n\t}\n}\n.unread {\n\tfont-weight: 600;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatDashboard.vue?vue&type=template&id=5143f548&scoped=true&\"\nimport script from \"./ChatDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatDashboard.vue?vue&type=style&index=0&id=5143f548&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5143f548\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDashboard.vue?vue&type=style&index=0&id=5143f548&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDashboard.vue?vue&type=style&index=0&id=5143f548&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}